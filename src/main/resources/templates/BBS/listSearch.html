<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" href="/css/bootstrap.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="/css/var.css">
	<link rel="stylesheet" type="text/css" href="/css/home_component.css">
	<link rel="stylesheet" type="text/css" href="/css/BBS.css">
	<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script><!-- ì•ˆì“°ë©´ ë‚˜ì¤‘ì— ì‚­ì œ --> 
</head>

<body>
 <script>
 
 function clickSearchBtn(){
	 


			if (document.getElementById("keywordInput").value == "") {
				alert("ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
			
			}
 
	 location.href = "/BBS/listSearch?page=1&perPageNum=10&searchType=" 
					 + $("select option:selected").val()
					 + "&keyword=" + encodeURIComponent($('#keywordInput').val());
 }
 

 
 
 // ì‚­ì œ ì˜ˆì • 
 $(function(){
  $('#searchBtn').click(function() {
   self.location = "listSearch"
     + '${pageMaker.makeQuery(1)}'
     + "&searchType="
     + $("select option:selected").val()
     + "&keyword="
     + encodeURIComponent($('#keywordInput').val());
    });
 });   
 
 
 </script>
 <script type="text/javascript">
		function moveTop(){
			window.scrollTo({top:0, behavior:"smooth"})
		}
	</script>
	<div class="moveTopBtn" onclick="moveTop()">â–²</div>
 
	<div th:replace="home_component.html :: header"></div>
	<div class="BBSlist">
	<p id="BBS">ì´ìš©ë¬¸ì˜</p>
	<div id="writeBtn">
	<!-- 	<div th:if="${user}!=null"> -->
			<button id="headerSearchBtn" th:onclick="|location.href='@{/BBS/BBSwrite}'|">ê¸€ì“°ê¸°</button>
	<!-- 	</div> -->
</div>

<!-- 	ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ëŠ” ë¶€ë¶„  -->
	<div class="col-md-12">
			<table class="table table-hover">
				<colgroup>
					<col width="50">
					<col width="300">
					<col width="200">
					<col width="100">
				</colgroup>
				<thead>
					<tr>
						<th>No</th>
						<th>Title</th>
						<th>Date</th>
						<th>Name</th>
					</tr>
				</thead>
				
				
				
				<tbody>
				<div th:each="BBS : ${list}" >
					<tr>
						<td th:text=${BBS.bbsNo}></td>
						<td><a th:href="@{|/BBS/BBSlist/${BBS.bbsNo}|}" th:text=${BBS.bbsTitle}></a></td>
						<td th:text=${BBS.bbsDate}></td>
						<td th:text="${BBS.userNick}"></td>
					</tr>
						
					<tr th:each="Reply : ${listRe}" th:if="${BBS.bbsNo}==${Reply.bbsNo} and ${listRe}!=null">
						<td></td>
						<td><a th:href="@{|/BBS/replyView2/${BBS.bbsNo}/${Reply.reNo}|}" th:text="${' â”” ğŸ˜'+Reply.reTitle}"></a></td>
						<td th:text=${Reply.reDate}></td>
						<td th:text="${Reply.userNick}"></td>
					</tr>
				</div>
				</tbody>
				
			</table>
		</div>







<!-- makeQuery ë„£ì–´ì„œ ë‹¤ì‹œ ì‹œë„  -->
<!-- makeQuery ì‚¬ìš©í•´ë„ í˜ì´ì§• ì˜ ë˜ëŠ”ê±° í™•ì¸ 01-03-11:12 -->
<!-- ê²€ìƒ‰ ê¸°ëŠ¥ í•˜ë©´ì„œ listPage.htmlë³µë¶™í•´ì™€ì„œ makeQuery -> makeSearchë¡œ ë³€ê²½ -->
<div id="pageNumber" th:with="start=${pageMaker.startPage}, end=${pageMaker.endPage}">
		<ul>
			<div>
				<li><a
					th:href="@{|/BBS/listSearch${pageMaker.makeSearch(pageMaker.startPage-1)}|}">ì´ì „</a></li>
			</div>


			<!--			3í˜ì´ì§€ ê¹Œì§€ í•„ìš”í• ë•ŒëŠ” ì©œ 3ê°œ ì°í˜ page ìˆ«ì í‘œì‹œë§Œ ë˜ë©´ ë˜ëŠ”ë° -->
			<div th:each="num : ${#numbers.sequence(start,end)}">
				<li><code th:if="${pageMaker.cri.getPage() == num}"
						th:text="${num}"></code> <a
					th:unless="${pageMaker.cri.getPage()==num}"
					th:href="@{|/BBS/listSearch${pageMaker.makeSearch(num)}|}"> <code
							th:text="${num}"></code></a></li>
			</div>

			<div>
				<!--			<div th:if="${pageMaker.next} and ${pageMaker.endPage} > 0">-->
				<li>
					<!-- 				<a th:href="@{|/BBS/listPage?page=${pageMaker.endPage + 1}&perPageNum=10|}">ë</a> -->
					<a
					th:href="@{|/BBS/listSearch${pageMaker.makeSearch(pageMaker.endPage+1)}|}">ë‹¤ìŒ</a>
				</li>
			</div>
		</ul>
	</div>
<br/>
<br/>

	
		
	


<!-- ê²€ìƒ‰ -->
		<div id="searchBBS">

			<select name="searchType">
				<!-- 				<option value="n" th:selected="${scri.searchType==null}"></option> -->
				<option value="title" th:selected="${scri.searchType=='title'}">ì œëª©</option>
				<option value="content" th:selected="${scri.searchType=='content'}">ë‚´ìš©</option>
				<option value="writer" th:selected="${scri.searchType=='writer'}">ì‘ì„±ì</option>
			</select>
			 <input type="text" name="keyword" id="keywordInput" th:value="${scri.keyword}" />

			<button id="headerSearchBtn" onclick="clickSearchBtn()">ê²€ìƒ‰</button>
		</div>
		
		
	
			
	</div>
	<div th:replace="home_component.html :: footer"></div>
</body>

</html>