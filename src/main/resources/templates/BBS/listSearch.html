<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="/css/var.css">
<link rel="stylesheet" type="text/css" href="/css/home_component.css">
<title>Insert title here</title>
</head>

<body>
	<div th:replace="home_component.html :: header"></div>
	<h1>게시판</h1>
	<table border="1" width="800" height="100">
		<thead>
			<tr>
				<th>게시글번호</th>
				<th>제목</th>
				<th>게시일</th>
				<th>작성자</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="BBS : ${list}">
				<td th:text=${BBS.bbsNo}></td>
				<td><a th:href="@{|/BBS/BBSlist/${BBS.bbsNo}|}"
					th:text=${BBS.bbsTitle}></a></td>
				<td th:text=${BBS.bbsDate}></td>
				<td th:text="${BBS.userNick}"></td>
			</tr>
		</tbody>

	</table>

	<div th:with="start=${pageMaker.startPage}, end=${pageMaker.endPage}">
		<ul>
			<div>
				<li><a
					th:href="@{|/BBS/listSearch?page=${pageMaker.startPage - 1}&perPageNum=10&searchType=${SearchCriteria.searchType}&keyword=${SearchCriteria.keyword}|}">이전</a></li>
			</div>


			<!--			3페이지 까지 필요할때는 쩜 3개 찍힘 page 숫자 표시만 되면 되는데 -->
			<div th:each="num : ${#numbers.sequence(start,end)}">
				<li><code th:if="${pageMaker.cri.getPage() == num}"
						th:text="${num}"></code> <a
					th:unless="${pageMaker.cri.getPage()==num}"
					th:href="@{|/BBS/listSearch?page=${num}&perPageNum=10&searchType=${SearchCriteria.searchType}&keyword=${SearchCriteria.keyword}|}">
						<code th:text="${num}"></code>
				</a></li>
			</div>

			<div>
				<li><a
					th:href="@{|/BBS/listSearch?page=${pageMaker.endPage + 1}&perPageNum=10&searchType=${SearchCriteria.searchType}&keyword=${SearchCriteria.keyword}|}">다음</a></li>
			</div>
		</ul>
	</div>



	<!-- 검색 -->
	<div>
		<select name="searchType">
			<option value="bbsTitle">제목</option>
			<option value="bbsContent">내용</option>
		</select> <input type="text" name="keyword" />

		<button type="button">검색</button>
	</div>

	<div th:if="${user}!=null">
		<button th:onclick="|location.href='@{/BBS/BBSwrite}'|">글쓰기</button>
	</div>
	<div th:replace="home_component.html :: footer"></div>
</body>

</html>