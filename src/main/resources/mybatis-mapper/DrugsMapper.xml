<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="project3.yakdo.repository.mybatis.DrugsMapper">
	<insert id="insertDrugInfo" parameterType="DrugInfo">
		INSERT INTO drug_info (
			ITEM_SEQ, ITEM_NAME, ITEM_ENG_NAME, ITEM_IMAGE, CLASS_NO, CLASS_NAME,
			CHART, ETC_OTC_NAME, ENTP_NAME, EFCY_QESITM, USE_METHOD_QESITM,
			ATPN_WARN_QESITM, ATPN_QESITM, INTRC_QESITM, SE_QESITM,
			DEPOSIT_METHOD_QESITM, EDI_CODE, NARCOTIC
			)
		VALUES (
			#{itemSeq, jdbcType=VARCHAR}, #{itemName, jdbcType=VARCHAR}, #{itemEngName, jdbcType=VARCHAR}, #{itemImage, jdbcType=VARCHAR}, #{classNo, jdbcType=VARCHAR}, #{className, jdbcType=VARCHAR},
			#{chart, jdbcType=VARCHAR}, #{etcOtcName, jdbcType=VARCHAR}, #{entpName, jdbcType=VARCHAR}, #{efcyQesitm, jdbcType=VARCHAR}, #{useMethodQesitm, jdbcType=VARCHAR},
			#{atpnWarnQesitm, jdbcType=VARCHAR}, #{atpnQesitm, jdbcType=VARCHAR}, #{intrcQesitm, jdbcType=VARCHAR}, #{seQesitm, jdbcType=VARCHAR},
			#{depositMethodQesitm, jdbcType=VARCHAR}, #{ediCode, jdbcType=VARCHAR}, #{narcotic, jdbcType=VARCHAR}
			) 
	</insert>
	
	<insert id="insertDrugInfoIngr">
		INSERT INTO drug_info_ingr ( ITEM_SEQ, INGR_NAME )
		VALUES (#{itemSeq, jdbcType=VARCHAR}, #{ingrName, jdbcType=VARCHAR})
	</insert>
	
	<insert id="insertFindDrug" parameterType="FindDrug">
		INSERT INTO find_drug (
			ITEM_SEQ, PRINT_FRONT, PRINT_BACK, DRUG_SHAPE, COLOR_CLASS1, COLOR_CLASS2,
			LINE_FRONT, LINE_BACK, LENG_LONG, LENG_SHORT, THICK,
			MARK_CODE_FRONT_ANAL, MARK_CODE_BACK_ANAL, MARK_CODE_FRONT, MARK_CODE_BACK,
			MARK_CODE_FRONT_IMG, MARK_CODE_BACK_IMG
			)
		VALUES (
			#{itemSeq, jdbcType=VARCHAR}, #{printFront, jdbcType=VARCHAR}, #{printBack, jdbcType=VARCHAR}, #{DrugShape, jdbcType=VARCHAR}, #{colorClass1, jdbcType=VARCHAR}, #{colorClass2, jdbcType=VARCHAR},
			#{lineFront, jdbcType=VARCHAR}, #{lineBack, jdbcType=VARCHAR}, #{lengLong, jdbcType=VARCHAR}, #{lengShort, jdbcType=VARCHAR}, #{thick, jdbcType=VARCHAR},
			#{markCodeFrontAnal, jdbcType=VARCHAR}, #{markCodeBackAnal, jdbcType=VARCHAR}, #{markCodeFront, jdbcType=VARCHAR}, #{markCodeBack, jdbcType=VARCHAR},
			#{markCodeFrontImg, jdbcType=VARCHAR}, #{markCodeBackImg, jdbcType=VARCHAR}
			) 
	</insert>
	
	<insert id="insertDur">
		INSERT INTO dur ( ITEM_SEQ, INGR_CODE, INGR_NAME, TYPE_NAME )
		VALUES (#{itemSeq, jdbcType=VARCHAR}, #{ingrCode, jdbcType=VARCHAR}, #{ingrName, jdbcType=VARCHAR}, #{typeName, jdbcType=VARCHAR})
	</insert>
	
	<insert id="insertDurCombi">
		INSERT INTO dur_combi ( ITEM_SEQ, INGR_CODE, INGR_NAME, MIX_INGR_CODE, MIX_INGR_NAME )
		VALUES (#{itemSeq, jdbcType=VARCHAR}, #{ingrCode, jdbcType=VARCHAR}, #{ingrName, jdbcType=VARCHAR}, #{mixIngrCode, jdbcType=VARCHAR}, #{mixIngrName, jdbcType=VARCHAR})
	</insert>
	
	<update id="updateDrugInfo" parameterType="hashmap">
		UPDATE drug_info
		SET ${colName} = ${value}
		WHERE ITEM_SEQ = ${itemSeq} AND (${colName} IS NULL)
	</update>
	
	<select id="selectDrugInfoByItemSeq" parameterType="String" resultType="DrugInfo">
		SELECT
			ITEM_SEQ, ITEM_NAME, ITEM_ENG_NAME, ITEM_IMAGE, CLASS_NO, CLASS_NAME,
			CHART, ETC_OTC_NAME, ENTP_NAME, EFCY_QESITM, USE_METHOD_QESITM,
			ATPN_WARN_QESITM, ATPN_QESITM, INTRC_QESITM, SE_QESITM,
			DEPOSIT_METHOD_QESITM, EDI_CODE, NARCOTIC
		FROM drug_info
		WHERE ITEM_SEQ = ${itemSeq}
	</select>
	
	<delete id="deleteDrugInfo">
		DELETE FROM drug_info
	</delete>
	<delete id="deleteDrugInfoIngr">
		DELETE FROM drug_info_ingr
	</delete>
	<delete id="deleteFindDrug">
		DELETE FROM find_drug
	</delete>
	<delete id="deleteDur">
		DELETE FROM dur
	</delete>
	<delete id="deleteDurCombi">
		DELETE FROM dur_combi
	</delete>
</mapper>